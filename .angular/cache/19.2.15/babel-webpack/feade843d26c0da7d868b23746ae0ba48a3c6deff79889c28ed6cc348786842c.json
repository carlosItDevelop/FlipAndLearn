{"ast":null,"code":"import _asyncToGenerator from \"/home/runner/workspace/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/translation.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction AddLessonModalComponent_div_0_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"p\", 21);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.error);\n  }\n}\nfunction AddLessonModalComponent_div_0__svg_svg_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 22);\n    i0.ɵɵelement(1, \"circle\", 23)(2, \"path\", 24);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddLessonModalComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵlistener(\"click\", function AddLessonModalComponent_div_0_Template_div_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onOverlayClick($event));\n    });\n    i0.ɵɵelementStart(1, \"div\", 2)(2, \"div\", 3)(3, \"h2\", 4);\n    i0.ɵɵtext(4, \"Adicionar Nova Li\\u00E7\\u00E3o\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function AddLessonModalComponent_div_0_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onClose());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(6, \"svg\", 6);\n    i0.ɵɵelement(7, \"path\", 7);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(8, \"form\", 8);\n    i0.ɵɵlistener(\"ngSubmit\", function AddLessonModalComponent_div_0_Template_form_ngSubmit_8_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onSubmit());\n    });\n    i0.ɵɵelementStart(9, \"div\")(10, \"label\", 9);\n    i0.ɵɵtext(11, \" Texto em Portugu\\u00EAs \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"textarea\", 10);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AddLessonModalComponent_div_0_Template_textarea_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.portugueseText, $event) || (ctx_r1.portugueseText = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵtext(13, \"        \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(14, AddLessonModalComponent_div_0_div_14_Template, 3, 1, \"div\", 11);\n    i0.ɵɵelementStart(15, \"div\", 12)(16, \"p\", 13);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(17, \"svg\", 14);\n    i0.ɵɵelement(18, \"path\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \" O texto ser\\u00E1 automaticamente traduzido para ingl\\u00EAs usando IA. \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(20, \"div\", 16)(21, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function AddLessonModalComponent_div_0_Template_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onClose());\n    });\n    i0.ɵɵtext(22, \" Cancelar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"button\", 18);\n    i0.ɵɵtemplate(24, AddLessonModalComponent_div_0__svg_svg_24_Template, 3, 0, \"svg\", 19);\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.isLoading);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.portugueseText);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.isLoading);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.error);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.isLoading);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.isLoading || !ctx_r1.portugueseText.trim());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isLoading);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.isLoading ? \"Traduzindo...\" : \"Adicionar Li\\u00E7\\u00E3o\", \" \");\n  }\n}\nexport class AddLessonModalComponent {\n  constructor(translationService) {\n    this.translationService = translationService;\n    this.isOpen = false;\n    this.closeModal = new EventEmitter();\n    this.lessonAdded = new EventEmitter();\n    this.portugueseText = '';\n    this.isLoading = false;\n    this.error = '';\n  }\n  onClose() {\n    this.closeModal.emit();\n    this.resetForm();\n  }\n  onSubmit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (!_this.portugueseText.trim()) {\n        _this.error = 'Por favor, digite um texto em português.';\n        return;\n      }\n      _this.isLoading = true;\n      _this.error = '';\n      try {\n        const englishText = yield _this.translationService.translateText({\n          text: _this.portugueseText.trim(),\n          targetLanguage: 'en'\n        }).toPromise();\n        if (englishText) {\n          const newLesson = {\n            portugueseText: _this.portugueseText.trim(),\n            englishText: englishText,\n            level: 'Pessoal'\n          };\n          _this.lessonAdded.emit(newLesson);\n          _this.onClose();\n        } else {\n          _this.error = 'Não foi possível traduzir o texto. Tente novamente.';\n        }\n      } catch (error) {\n        console.error('Translation error:', error);\n        _this.error = error.message || 'Erro ao traduzir o texto. Verifique sua conexão e tente novamente.';\n      } finally {\n        _this.isLoading = false;\n      }\n    })();\n  }\n  resetForm() {\n    this.portugueseText = '';\n    this.error = '';\n    this.isLoading = false;\n  }\n  onOverlayClick(event) {\n    if (event.target === event.currentTarget) {\n      this.onClose();\n    }\n  }\n  static {\n    this.ɵfac = function AddLessonModalComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || AddLessonModalComponent)(i0.ɵɵdirectiveInject(i1.TranslationService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AddLessonModalComponent,\n      selectors: [[\"app-add-lesson-modal\"]],\n      inputs: {\n        isOpen: \"isOpen\"\n      },\n      outputs: {\n        closeModal: \"closeModal\",\n        lessonAdded: \"lessonAdded\"\n      },\n      decls: 1,\n      vars: 1,\n      consts: [[\"class\", \"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4\", 3, \"click\", 4, \"ngIf\"], [1, \"fixed\", \"inset-0\", \"bg-black\", \"bg-opacity-50\", \"flex\", \"justify-center\", \"items-center\", \"z-50\", \"p-4\", 3, \"click\"], [1, \"bg-white\", \"rounded-lg\", \"shadow-xl\", \"p-6\", \"w-full\", \"max-w-md\", \"transform\", \"transition-all\", \"duration-300\", \"scale-100\"], [1, \"flex\", \"justify-between\", \"items-center\", \"mb-6\"], [1, \"text-xl\", \"font-semibold\", \"text-gray-800\"], [1, \"p-1\", \"hover:bg-gray-100\", \"rounded-full\", \"transition-colors\", 3, \"click\", \"disabled\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-6\", \"h-6\", \"text-gray-600\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M6 18L18 6M6 6l12 12\"], [1, \"space-y-4\", 3, \"ngSubmit\"], [\"for\", \"portugueseText\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-2\"], [\"id\", \"portugueseText\", \"name\", \"portugueseText\", \"rows\", \"4\", \"placeholder\", \"Digite uma frase em portugu\\u00EAs para ser traduzida...\", \"required\", \"\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"border-gray-300\", \"rounded-md\", \"shadow-sm\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-blue-500\", \"focus:border-blue-500\", \"resize-none\", 3, \"ngModelChange\", \"ngModel\", \"disabled\"], [\"class\", \"p-3 bg-red-50 border border-red-200 rounded-md\", 4, \"ngIf\"], [1, \"p-3\", \"bg-blue-50\", \"border\", \"border-blue-200\", \"rounded-md\"], [1, \"text-sm\", \"text-blue-600\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-4\", \"h-4\", \"inline\", \"mr-1\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"], [1, \"flex\", \"justify-end\", \"space-x-3\", \"pt-4\"], [\"type\", \"button\", 1, \"px-4\", \"py-2\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"bg-gray-100\", \"border\", \"border-gray-300\", \"rounded-md\", \"hover:bg-gray-200\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-gray-500\", \"disabled:opacity-50\", \"disabled:cursor-not-allowed\", \"transition-colors\", 3, \"click\", \"disabled\"], [\"type\", \"submit\", 1, \"px-4\", \"py-2\", \"text-sm\", \"font-medium\", \"text-white\", \"bg-blue-600\", \"border\", \"border-transparent\", \"rounded-md\", \"hover:bg-blue-700\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-blue-500\", \"disabled:opacity-50\", \"disabled:cursor-not-allowed\", \"transition-colors\", \"flex\", \"items-center\", 3, \"disabled\"], [\"class\", \"animate-spin -ml-1 mr-2 h-4 w-4 text-white\", \"fill\", \"none\", \"viewBox\", \"0 0 24 24\", 4, \"ngIf\"], [1, \"p-3\", \"bg-red-50\", \"border\", \"border-red-200\", \"rounded-md\"], [1, \"text-sm\", \"text-red-600\"], [\"fill\", \"none\", \"viewBox\", \"0 0 24 24\", 1, \"animate-spin\", \"-ml-1\", \"mr-2\", \"h-4\", \"w-4\", \"text-white\"], [\"cx\", \"12\", \"cy\", \"12\", \"r\", \"10\", \"stroke\", \"currentColor\", \"stroke-width\", \"4\", 1, \"opacity-25\"], [\"fill\", \"currentColor\", \"d\", \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\", 1, \"opacity-75\"]],\n      template: function AddLessonModalComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, AddLessonModalComponent_div_0_Template, 26, 8, \"div\", 0);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.isOpen);\n        }\n      },\n      dependencies: [CommonModule, i2.NgIf, FormsModule, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n      styles: [\".modal-enter[_ngcontent-%COMP%] {\\n  opacity: 0;\\n  transform: scale(0.95);\\n}\\n\\n.modal-enter-active[_ngcontent-%COMP%] {\\n  opacity: 1;\\n  transform: scale(1);\\n  transition: opacity 300ms, transform 300ms;\\n}\\n\\n.modal-leave[_ngcontent-%COMP%] {\\n  opacity: 1;\\n  transform: scale(1);\\n}\\n\\n.modal-leave-active[_ngcontent-%COMP%] {\\n  opacity: 0;\\n  transform: scale(0.95);\\n  transition: opacity 300ms, transform 300ms;\\n}\\n\\ntextarea[_ngcontent-%COMP%]:focus {\\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\\n}\\n\\n.animate-spin[_ngcontent-%COMP%] {\\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\\n}\\n\\n@keyframes _ngcontent-%COMP%_spin {\\n  from {\\n    transform: rotate(0deg);\\n  }\\n  to {\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZC1sZXNzb24tbW9kYWwuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFVBQVU7RUFDVixzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsbUJBQW1CO0VBQ25CLDBDQUEwQztBQUM1Qzs7QUFFQTtFQUNFLFVBQVU7RUFDVixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxVQUFVO0VBQ1Ysc0JBQXNCO0VBQ3RCLDBDQUEwQztBQUM1Qzs7QUFFQTtFQUNFLDZDQUE2QztBQUMvQzs7QUFFQTtFQUNFLGtDQUFrQztBQUNwQzs7QUFFQTtFQUNFO0lBQ0UsdUJBQXVCO0VBQ3pCO0VBQ0E7SUFDRSx5QkFBeUI7RUFDM0I7QUFDRiIsImZpbGUiOiJhZGQtbGVzc29uLW1vZGFsLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubW9kYWwtZW50ZXIge1xuICBvcGFjaXR5OiAwO1xuICB0cmFuc2Zvcm06IHNjYWxlKDAuOTUpO1xufVxuXG4ubW9kYWwtZW50ZXItYWN0aXZlIHtcbiAgb3BhY2l0eTogMTtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAzMDBtcywgdHJhbnNmb3JtIDMwMG1zO1xufVxuXG4ubW9kYWwtbGVhdmUge1xuICBvcGFjaXR5OiAxO1xuICB0cmFuc2Zvcm06IHNjYWxlKDEpO1xufVxuXG4ubW9kYWwtbGVhdmUtYWN0aXZlIHtcbiAgb3BhY2l0eTogMDtcbiAgdHJhbnNmb3JtOiBzY2FsZSgwLjk1KTtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAzMDBtcywgdHJhbnNmb3JtIDMwMG1zO1xufVxuXG50ZXh0YXJlYTpmb2N1cyB7XG4gIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDU5LCAxMzAsIDI0NiwgMC4xKTtcbn1cblxuLmFuaW1hdGUtc3BpbiB7XG4gIGFuaW1hdGlvbjogc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XG59XG5cbkBrZXlmcmFtZXMgc3BpbiB7XG4gIGZyb20ge1xuICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xuICB9XG4gIHRvIHtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xuICB9XG59XG4iXX0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9hZGQtbGVzc29uLW1vZGFsL2FkZC1sZXNzb24tbW9kYWwuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFVBQVU7RUFDVixzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsbUJBQW1CO0VBQ25CLDBDQUEwQztBQUM1Qzs7QUFFQTtFQUNFLFVBQVU7RUFDVixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxVQUFVO0VBQ1Ysc0JBQXNCO0VBQ3RCLDBDQUEwQztBQUM1Qzs7QUFFQTtFQUNFLDZDQUE2QztBQUMvQzs7QUFFQTtFQUNFLGtDQUFrQztBQUNwQzs7QUFFQTtFQUNFO0lBQ0UsdUJBQXVCO0VBQ3pCO0VBQ0E7SUFDRSx5QkFBeUI7RUFDM0I7QUFDRjs7QUFFQSx3M0NBQXczQyIsInNvdXJjZXNDb250ZW50IjpbIi5tb2RhbC1lbnRlciB7XG4gIG9wYWNpdHk6IDA7XG4gIHRyYW5zZm9ybTogc2NhbGUoMC45NSk7XG59XG5cbi5tb2RhbC1lbnRlci1hY3RpdmUge1xuICBvcGFjaXR5OiAxO1xuICB0cmFuc2Zvcm06IHNjYWxlKDEpO1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDMwMG1zLCB0cmFuc2Zvcm0gMzAwbXM7XG59XG5cbi5tb2RhbC1sZWF2ZSB7XG4gIG9wYWNpdHk6IDE7XG4gIHRyYW5zZm9ybTogc2NhbGUoMSk7XG59XG5cbi5tb2RhbC1sZWF2ZS1hY3RpdmUge1xuICBvcGFjaXR5OiAwO1xuICB0cmFuc2Zvcm06IHNjYWxlKDAuOTUpO1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDMwMG1zLCB0cmFuc2Zvcm0gMzAwbXM7XG59XG5cbnRleHRhcmVhOmZvY3VzIHtcbiAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoNTksIDEzMCwgMjQ2LCAwLjEpO1xufVxuXG4uYW5pbWF0ZS1zcGluIHtcbiAgYW5pbWF0aW9uOiBzcGluIDFzIGxpbmVhciBpbmZpbml0ZTtcbn1cblxuQGtleWZyYW1lcyBzcGluIHtcbiAgZnJvbSB7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XG4gIH1cbiAgdG8ge1xuICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["EventEmitter","CommonModule","FormsModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r1","error","ɵɵelement","ɵɵlistener","AddLessonModalComponent_div_0_Template_div_click_0_listener","$event","ɵɵrestoreView","_r1","ɵɵnextContext","ɵɵresetView","onOverlayClick","AddLessonModalComponent_div_0_Template_button_click_5_listener","onClose","AddLessonModalComponent_div_0_Template_form_ngSubmit_8_listener","onSubmit","ɵɵtwoWayListener","AddLessonModalComponent_div_0_Template_textarea_ngModelChange_12_listener","ɵɵtwoWayBindingSet","portugueseText","ɵɵtemplate","AddLessonModalComponent_div_0_div_14_Template","AddLessonModalComponent_div_0_Template_button_click_21_listener","AddLessonModalComponent_div_0__svg_svg_24_Template","ɵɵproperty","isLoading","ɵɵtwoWayProperty","trim","ɵɵtextInterpolate1","AddLessonModalComponent","constructor","translationService","isOpen","closeModal","lessonAdded","emit","resetForm","_this","_asyncToGenerator","englishText","translateText","text","targetLanguage","toPromise","newLesson","level","console","message","event","target","currentTarget","ɵɵdirectiveInject","i1","TranslationService","selectors","inputs","outputs","decls","vars","consts","template","AddLessonModalComponent_Template","rf","ctx","AddLessonModalComponent_div_0_Template","i2","NgIf","i3","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","RequiredValidator","NgModel","NgForm","styles"],"sources":["/home/runner/workspace/src/app/components/add-lesson-modal/add-lesson-modal.component.ts","/home/runner/workspace/src/app/components/add-lesson-modal/add-lesson-modal.component.html"],"sourcesContent":["import { Component, Output, EventEmitter, Input } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { TranslationService } from '../../services/translation.service';\nimport { Lesson } from '../../models/lesson.model';\n\n@Component({\n  selector: 'app-add-lesson-modal',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: './add-lesson-modal.component.html',\n  styleUrls: ['./add-lesson-modal.component.css']\n})\nexport class AddLessonModalComponent {\n  @Input() isOpen = false;\n  @Output() closeModal = new EventEmitter<void>();\n  @Output() lessonAdded = new EventEmitter<Omit<Lesson, 'id'>>();\n\n  portugueseText = '';\n  isLoading = false;\n  error = '';\n\n  constructor(private translationService: TranslationService) {}\n\n  onClose(): void {\n    this.closeModal.emit();\n    this.resetForm();\n  }\n\n  async onSubmit(): Promise<void> {\n    if (!this.portugueseText.trim()) {\n      this.error = 'Por favor, digite um texto em português.';\n      return;\n    }\n\n    this.isLoading = true;\n    this.error = '';\n\n    try {\n      const englishText = await this.translationService.translateText({\n        text: this.portugueseText.trim(),\n        targetLanguage: 'en'\n      }).toPromise();\n\n      if (englishText) {\n        const newLesson: Omit<Lesson, 'id'> = {\n          portugueseText: this.portugueseText.trim(),\n          englishText: englishText,\n          level: 'Pessoal'\n        };\n\n        this.lessonAdded.emit(newLesson);\n        this.onClose();\n      } else {\n        this.error = 'Não foi possível traduzir o texto. Tente novamente.';\n      }\n    } catch (error: any) {\n      console.error('Translation error:', error);\n      this.error = error.message || 'Erro ao traduzir o texto. Verifique sua conexão e tente novamente.';\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  private resetForm(): void {\n    this.portugueseText = '';\n    this.error = '';\n    this.isLoading = false;\n  }\n\n  onOverlayClick(event: Event): void {\n    if (event.target === event.currentTarget) {\n      this.onClose();\n    }\n  }\n}\n","<div \n  *ngIf=\"isOpen\" \n  class=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4\"\n  (click)=\"onOverlayClick($event)\">\n  \n  <div class=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-md transform transition-all duration-300 scale-100\">\n    <!-- Header -->\n    <div class=\"flex justify-between items-center mb-6\">\n      <h2 class=\"text-xl font-semibold text-gray-800\">Adicionar Nova Lição</h2>\n      <button \n        (click)=\"onClose()\"\n        class=\"p-1 hover:bg-gray-100 rounded-full transition-colors\"\n        [disabled]=\"isLoading\">\n        <svg class=\"w-6 h-6 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"/>\n        </svg>\n      </button>\n    </div>\n\n    <!-- Form -->\n    <form (ngSubmit)=\"onSubmit()\" class=\"space-y-4\">\n      <!-- Input Field -->\n      <div>\n        <label for=\"portugueseText\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Texto em Português\n        </label>\n        <textarea\n          id=\"portugueseText\"\n          [(ngModel)]=\"portugueseText\"\n          name=\"portugueseText\"\n          rows=\"4\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none\"\n          placeholder=\"Digite uma frase em português para ser traduzida...\"\n          [disabled]=\"isLoading\"\n          required>\n        </textarea>\n      </div>\n\n      <!-- Error Message -->\n      <div *ngIf=\"error\" class=\"p-3 bg-red-50 border border-red-200 rounded-md\">\n        <p class=\"text-sm text-red-600\">{{ error }}</p>\n      </div>\n\n      <!-- Info Message -->\n      <div class=\"p-3 bg-blue-50 border border-blue-200 rounded-md\">\n        <p class=\"text-sm text-blue-600\">\n          <svg class=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"/>\n          </svg>\n          O texto será automaticamente traduzido para inglês usando IA.\n        </p>\n      </div>\n\n      <!-- Buttons -->\n      <div class=\"flex justify-end space-x-3 pt-4\">\n        <button\n          type=\"button\"\n          (click)=\"onClose()\"\n          [disabled]=\"isLoading\"\n          class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\">\n          Cancelar\n        </button>\n        \n        <button\n          type=\"submit\"\n          [disabled]=\"isLoading || !portugueseText.trim()\"\n          class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center\">\n          <svg *ngIf=\"isLoading\" class=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" fill=\"none\" viewBox=\"0 0 24 24\">\n            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n            <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n          </svg>\n          {{ isLoading ? 'Traduzindo...' : 'Adicionar Lição' }}\n        </button>\n      </div>\n    </form>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}